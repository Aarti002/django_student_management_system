{% extends 'hod_templates/base_template.html' %} {% block page_title %}ADMIN
PAGE{% endblock page_title %} {% block main_content %}

<section class="content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-3 col-6">
        <!-- card-1 -->
        <div class="small-box" style="background-color: #669999">
          <div class="inner">
            <h3>{{ total_students }}</h3>
            <p>Total Enrolled Students</p>
          </div>
          <div class="icon">
            <i class="fa fa-graduation-cap" aria-hidden="true"></i>
          </div>
          <a href="/manage_student" class="small-box-footer"
            >Students Detail <i class="fas fa-arrow-circle-right"></i
          ></a>
        </div>
      </div>
      <div class="col-lg-3 col-6">
        <!-- card-2 -->
        <div class="small-box" style="background-color: #669999">
          <div class="inner">
            <h3>{{ total_staff }}</h3>
            <p>Total Registered Staffs</p>
          </div>
          <div class="icon">
            <i class="fa fa-users" aria-hidden="true"></i>
          </div>
          <a href="/manage_staff" class="small-box-footer"
            >Staffs Detail <i class="fas fa-arrow-circle-right"></i
          ></a>
        </div>
      </div>
      <div class="col-lg-3 col-6">
        <!-- card-3 -->
        <div class="small-box" style="background-color: #669999">
          <div class="inner">
            <h3>{{ total_courses }}</h3>
            <p>Total Available Courses</p>
          </div>
          <div class="icon">
            <i class="fa fa-book" aria-hidden="true"></i>
          </div>
          <a href="/manage_course" class="small-box-footer"
            >Course Details <i class="fas fa-arrow-circle-right"></i
          ></a>
        </div>
      </div>
      <div class="col-lg-3 col-6">
        <!-- card-4 -->
        <div class="small-box" style="background-color: #669999">
          <div class="inner">
            <h3>{{ total_subject }}</h3>
            <p>Total Available Subjects</p>
          </div>
          <div class="icon">
            <i class="fa fa-file-text-o" aria-hidden="true"></i>
          </div>
          <a href="/manage_subject" class="small-box-footer"
            >Subject Details <i class="fas fa-arrow-circle-right"></i
          ></a>
        </div>
      </div>
    </div>
    <!-- statistical representation of data -->
    <div class="row">
      <!-- students and staffs strength -->
      <div class="col-lg-6">
        <div class="card card-secondary">
          <div class="card-header">
            <h3 class="card-title">Student and Staff count Chart</h3>
            <div class="card-tools">
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="collapse"
              >
                <i class="fas fa-minus"></i>
              </button>
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="remove"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <div class="card-body" style="background-color: #e0e0d1">
            <div class="chartjs-size-monitor">
              <div class="chartjs-size-monitor-expand">
                <div class=""></div>
              </div>
              <div class="chartjs-size-monitor-shrink">
                <div class=""></div>
              </div>
            </div>
            <canvas
              id="donutChart1"
              style="
                min-height: 250px;
                height: 250px;
                max-height: 250px;
                max-width: 100%;
                display: block;
                width: 419px;
              "
              width="523"
              height="312"
              class="chartjs-render-monitor"
            ></canvas>
          </div>
        </div>
      </div>

      <!-- student strength in each session -->
      <div class="col-lg-6">
        <div class="card card-secondary">
          <div class="card-header">
            <h3 class="card-title">Student count WRT available Session</h3>
            <div class="card-tools">
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="collapse"
              >
                <i class="fas fa-minus"></i>
              </button>
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="remove"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <div class="card-body" style="background-color: #e0e0d1">
            <div class="chartjs-size-monitor">
              <div class="chartjs-size-monitor-expand">
                <div class=""></div>
              </div>
              <div class="chartjs-size-monitor-shrink">
                <div class=""></div>
              </div>
            </div>
            <canvas
              id="donutChart2"
              style="
                min-height: 250px;
                height: 250px;
                max-height: 250px;
                max-width: 100%;
                display: block;
                width: 419px;
              "
              width="523"
              height="312"
              class="chartjs-render-monitor"
            ></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <!-- student strength during each session in each course -->
      <div class="col-lg-6">
        <div class="card card-secondary">
          <div class="card-header">
            <h3 class="card-title">
              Student count WRT available Session and Course
            </h3>
            <div class="card-tools">
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="collapse"
              >
                <i class="fas fa-minus"></i>
              </button>
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="remove"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <div class="card-body" style="background-color: #e0e0d1">
            <div class="chartjs-size-monitor">
              <div class="chartjs-size-monitor-expand">
                <div class=""></div>
              </div>
              <div class="chartjs-size-monitor-shrink">
                <div class=""></div>
              </div>
            </div>
            <canvas
              id="donutChart3"
              style="
                min-height: 250px;
                height: 250px;
                max-height: 250px;
                max-width: 100%;
                display: block;
                width: 419px;
              "
              width="523"
              height="312"
              class="chartjs-render-monitor"
            ></canvas>
          </div>
        </div>
      </div>

      <!-- staff strength in each subject -->
      <div class="col-lg-6">
        <div class="card card-secondary">
          <div class="card-header">
            <h3 class="card-title">Staff count WRT Subject</h3>

            <div class="card-tools">
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="collapse"
              >
                <i class="fas fa-minus"></i>
              </button>
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="remove"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <div class="card-body" style="background-color: #e0e0d1">
            <div class="chartjs-size-monitor">
              <div class="chartjs-size-monitor-expand">
                <div class=""></div>
              </div>
              <div class="chartjs-size-monitor-shrink">
                <div class=""></div>
              </div>
            </div>
            <canvas
              id="donutChart4"
              style="
                min-height: 250px;
                height: 250px;
                max-height: 250px;
                max-width: 100%;
                display: block;
                width: 419px;
              "
              width="523"
              height="312"
              class="chartjs-render-monitor"
            ></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        <div class="card card-secondary">
          <div class="card-header">
            <h3 class="card-title">Staff Attendance and Leave Chart</h3>

            <div class="card-tools">
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="collapse"
              >
                <i class="fas fa-minus"></i>
              </button>
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="remove"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <div class="card-body">
            <div class="chart">
              <div class="chartjs-size-monitor">
                <div class="chartjs-size-monitor-expand">
                  <div class=""></div>
                </div>
                <div class="chartjs-size-monitor-shrink">
                  <div class=""></div>
                </div>
              </div>
              <canvas
                id="barChart"
                style="
                  min-height: 250px;
                  height: 250px;
                  max-height: 250px;
                  max-width: 100%;
                  display: block;
                  width: 419px;
                "
                width="523"
                height="312"
                class="chartjs-render-monitor"
              ></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        <div class="card card-secondary">
          <div class="card-header">
            <h3 class="card-title">Student Attendance and Leave Chart</h3>

            <div class="card-tools">
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="collapse"
              >
                <i class="fas fa-minus"></i>
              </button>
              <button
                type="button"
                class="btn btn-tool"
                data-card-widget="remove"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <div class="card-body">
            <div class="chart">
              <div class="chartjs-size-monitor">
                <div class="chartjs-size-monitor-expand">
                  <div class=""></div>
                </div>
                <div class="chartjs-size-monitor-shrink">
                  <div class=""></div>
                </div>
              </div>
              <canvas
                id="barChart2"
                style="
                  min-height: 250px;
                  height: 250px;
                  max-height: 250px;
                  max-width: 100%;
                  display: block;
                  width: 419px;
                "
                width="523"
                height="312"
                class="chartjs-render-monitor"
              ></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock main_content %} {% block content_js %}
<script>
    $(document).ready(function(){
      //for student and staff chart
    var donutChartCanvas1 = $('#donutChart1').get(0).getContext('2d')
      var donutData1 = {
        labels: [
            'Student',
            'Staff'
        ],
        datasets: [
          {
            data: [{{ total_students }},{{ total_staff }}],
            backgroundColor : ['#000000', '#006666', '#00cccc',
                              '#33ffff', '#e6ffff', '#ffffff','#8080ff',
                              '#e6e6ff','#52527a','#a3a3c2'],
          }
        ]
      }
      var donutOptions1 = {
        maintainAspectRatio : false,
        responsive : true,
      }
      var donutChart1 = new Chart(donutChartCanvas1, {
        type: 'doughnut',
        data: donutData1,
        options: donutOptions1
      });

      //for student count in each session
      var session_as_lable = {{ session_as_lable|safe }}
      var student_wrt_session = {{ student_wrt_session }}
      var donutChartCanvas2 = $('#donutChart2').get(0).getContext('2d')
      var donutData2 = {
        labels: session_as_lable,
        datasets: [
          {
            data: student_wrt_session,
            backgroundColor :  ['#000000', '#006666', '#00cccc',
                              '#33ffff', '#e6ffff', '#ffffff','#8080ff',
                              '#e6e6ff','#52527a','#a3a3c2']
          }
        ]
      }
      var donutOptions2 = {
        maintainAspectRatio : false,
        responsive : true,
      }
      var donutChart2 = new Chart(donutChartCanvas2, {
        type: 'doughnut',
        data: donutData2,
        options: donutOptions2
      });

      //second section
  //doughnut chart for student count with respect to session and course choosen
  //by students
      var lables_for_student_count = {{ course_n_session_lable|safe }}
      var student_count_wrt_course_n_session = {{ student_count_with_course_n_session }}
      var donutChartCanvas3 = $('#donutChart3').get(0).getContext('2d')
      var donutData3 = {
        labels: lables_for_student_count,
        datasets: [
          {
            data: student_count_wrt_course_n_session,
            backgroundColor :  ['#000000', '#006666', '#00cccc',
                              '#33ffff', '#e6ffff', '#ffffff','#8080ff',
                              '#e6e6ff','#52527a','#a3a3c2']
          }
        ]
      }
      var donutOptions3  = {
        maintainAspectRatio : false,
        responsive : true,
      }
      var donutChart3 = new Chart(donutChartCanvas3, {
        type: 'doughnut',
        data: donutData3,
        options: donutOptions3
      });

      //doughnut chart for staff count with respect to subject
      var lables_for_staff_count = {{ subjects_as_lable|safe }}
      var staff_wrt_subject = {{ staff_wrt_subjects }}
      var donutChartCanvas4 = $('#donutChart4').get(0).getContext('2d')
      var donutData4 = {
        labels: lables_for_staff_count,
        datasets: [
          {
            data: staff_wrt_subject,
            backgroundColor :  ['#000000', '#006666', '#00cccc',
                                '#33ffff', '#e6ffff', '#ffffff','#8080ff',
                              '#e6e6ff','#52527a','#a3a3c2']
          }
        ]
      }
      var donutOptions4 = {
        maintainAspectRatio : false,
        responsive : true,
      }
      var donutChart4 = new Chart(donutChartCanvas4, {
        type: 'doughnut',
        data: donutData4,
        options: donutOptions4
      });


      //Bar chart for staff leave and attendance
      var staff_present_list= {{ staff_present_list }}
      var staff_absent_list = {{ staff_absent_list }}
      var staff_name_list = {{ staff_name_list|safe }}
      var areaChartData = {
        labels  : staff_name_list,
        datasets: [
          {
            label               : 'Staff Present',
            backgroundColor     : 'rgba(60,141,188,0.9)',
            borderColor         : 'rgba(60,141,188,0.8)',
            pointRadius          : false,
            pointColor          : '#3b8bba',
            pointStrokeColor    : 'rgba(60,141,188,1)',
            pointHighlightFill  : '#fff',
            pointHighlightStroke: 'rgba(60,141,188,1)',
            data                : staff_present_list
          },
          {
            label               : 'Staff Absent',
            backgroundColor     : 'rgba(210, 214, 222, 1)',
            borderColor         : 'rgba(210, 214, 222, 1)',
            pointRadius         : false,
            pointColor          : 'rgba(210, 214, 222, 1)',
            pointStrokeColor    : '#c1c7d1',
            pointHighlightFill  : '#fff',
            pointHighlightStroke: 'rgba(220,220,220,1)',
            data                : staff_absent_list
          },
        ]
      }
      var barChartCanvas = $('#barChart').get(0).getContext('2d')
      var barChartData = jQuery.extend(true, {}, areaChartData)
      var temp0 = areaChartData.datasets[0]
      var temp1 = areaChartData.datasets[1]
      barChartData.datasets[0] = temp1
      barChartData.datasets[1] = temp0

      var barChartOptions = {
        responsive              : true,
        maintainAspectRatio     : false,
        datasetFill             : false
      }

      var barChart = new Chart(barChartCanvas, {
        type: 'bar',
        data: barChartData,
        options: barChartOptions
      })

      //student leave and attendance
      var student_present_list= {{ student_present_list }}
      var student_absent_list = {{ student_absent_list }}
      var student_name_list = {{ student_name_list|safe }}
      var areaChartData2 = {
        labels  : student_name_list,
        datasets: [
          {
            label               : 'Student Present',
            backgroundColor     : 'rgba(60,141,188,0.9)',
            borderColor         : 'rgba(60,141,188,0.8)',
            pointRadius          : false,
            pointColor          : '#3b8bba',
            pointStrokeColor    : 'rgba(60,141,188,1)',
            pointHighlightFill  : '#fff',
            pointHighlightStroke: 'rgba(60,141,188,1)',
            data                : student_present_list
          },
          {
            label               : 'Student Absent',
            backgroundColor     : 'rgba(210, 214, 222, 1)',
            borderColor         : 'rgba(210, 214, 222, 1)',
            pointRadius         : false,
            pointColor          : 'rgba(210, 214, 222, 1)',
            pointStrokeColor    : '#c1c7d1',
            pointHighlightFill  : '#fff',
            pointHighlightStroke: 'rgba(220,220,220,1)',
            data                : student_absent_list
          },
        ]
      }
      var barChartCanvas2 = $('#barChart2').get(0).getContext('2d')
      var barChartData2 = jQuery.extend(true, {}, areaChartData)
      var temp02 = areaChartData2.datasets[0]
      var temp12 = areaChartData2.datasets[1]
      barChartData2.datasets[0] = temp12
      barChartData2.datasets[1] = temp02

      var barChartOptions2 = {
        responsive              : true,
        maintainAspectRatio     : false,
        datasetFill             : false
      }

      var barChart2 = new Chart(barChartCanvas2, {
        type: 'bar',
        data: barChartData2,
        options: barChartOptions2
      })
    })
</script>
{% endblock content_js %}
